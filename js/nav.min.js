const currentYear=new Date().getFullYear();const yearSpan=document.getElementById('year-span');yearSpan.textContent=currentYear;const focusableElements='button, input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])';let firstFocusableElement,lastFocusableElement,focusableCount=0;let navbar=document.querySelector(".navbar");let navLinks=document.querySelector(".nav-links");let menuOpenBtn=document.querySelector(".navbar .icon-bars");let menuCloseBtn=document.querySelector(".nav-links .icon-close");if(menuOpenBtn){menuOpenBtn.onclick=function(){navLinks.style.left="0"}}
if(menuCloseBtn){menuCloseBtn.onclick=function(){navLinks.style.left="-120%"}}
let arrow=document.querySelector(".menu-arrow, .link-to-submenu");if(arrow){arrow.onclick=function(){navLinks.classList.toggle("show1")}}
function openModal(modalform,breed){const modal=document.createElement("div");modal.classList.add('modal');modal.id="myModal";modal.innerHTML=`
        <div class="modal-content" id="modalContent">
            <span class="close" id="closeModal">&times;</span>
            <div id="htmlContent"></div>
        </div>
    `;document.body.appendChild(modal);const modalContent=document.getElementById('modalContent');const htmlContentDiv=document.getElementById('htmlContent');observer.observe(document.body,{childList:!0,subtree:!0});document.body.classList.add('modal-open');setTimeout(()=>{modalContent.classList.add('show')},100);fetch('./'+modalform+'-modal.html').then(response=>response.text()).then(data=>{htmlContentDiv.innerHTML=data;modal.style.display='block';const imgElements=document.querySelectorAll('.breed-images');imgElements.forEach(imgElement=>{imgElement.src=imgElement.src.replace("breed",breed)});const modalDiv=document.getElementById("modalContent");if(breed!==""){if(window.matchMedia("(max-width: 600px)").matches){modalContent.classList.add('modal-center','modal-center__breed','modal-center__w92p')}else if(window.matchMedia("(max-width: 1000px)").matches){modalContent.classList.add('modal-center','modal-center__breed','modal-center__w70p')}else{modalContent.classList.add('modal-center','modal-center__breed')}}else{modalContent.classList.add('modal-right')}
const focusableContent=getFocusableElements(modal);focusableCount=focusableContent.length
firstFocusableElement=focusableContent[0];lastFocusableElement=focusableContent[focusableCount-1];if(focusableContent.length){firstFocusableElement.focus()}})}
function closeModal(){document.body.removeChild(document.getElementById("myModal"))}
document.addEventListener('click',(e)=>{if(e.target.classList.contains('openModalLink')){openModal("contact-us","")}});const element=document.getElementById("openLookInside");if(element){document.getElementById('openLookInside').addEventListener('click',(e)=>{openModal("look-inside",e.target.getAttribute("breed"))})};window.onclick=function(e){const modal=document.getElementById('myModal');if(e.target===modal){closeModal()}};function getFocusableElements(container){return Array.from(container.querySelectorAll(focusableElements)).filter(el=>el.offsetParent!==null&&getComputedStyle(el).visibility!=='hidden')}
document.addEventListener('keydown',function(e){if(e.key==="Tab"){if(focusableCount){if(e.shiftKey){if(document.activeElement===firstFocusableElement){e.preventDefault();lastFocusableElement.focus()}}else{if(document.activeElement===lastFocusableElement){e.preventDefault();firstFocusableElement.focus()}}}else{e.preventDefault();closeModal()}}else if(e.key==='Escape'||e.key==='Esc'){closeModal()}});function modalSubmit(e){e.preventDefault();const form=document.getElementById("form");const result=document.getElementById("result");const formData=new FormData(form);var object={};formData.forEach((value,key)=>{object[key]=value});var json=JSON.stringify(object);result.innerHTML="Please wait...";fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json","Accept":"application/json"},body:json}).then(async(response)=>{let json=await response.json();if(response.status==200){result.innerHTML=json.message}else{console.log(response);result.innerHTML=json.message}}).catch((error)=>{console.log(error);result.innerHTML="Something went wrong!"}).then(function(){form.reset();setTimeout(()=>{result.style.display="none"},200);closeModal();setTimeout(()=>{openModal("message-sent","")},100)})};function addModalEventListener(){const modalButton=document.getElementById("closeModal");if(modalButton){modalButton.addEventListener("click",()=>{closeModal()});observer.disconnect()}}
const observer=new MutationObserver(()=>{addModalEventListener()});function applyLazyLoading(){const lazyImages=document.querySelectorAll('img.lazy');const screenWidth=window.innerWidth;if(screenWidth<=700){lazyImages.forEach(img=>{img.setAttribute('loading','lazy')})}else{lazyImages.forEach(img=>{img.removeAttribute('loading')})}}
applyLazyLoading();window.addEventListener('resize',applyLazyLoading)